<!doctype html>
<html lang='de'>
  <head>
    <title>Embedded Camera Image</title>
    <style>
      img#camImage {
                height: auto;
                max-width: 100%;
                border: 0;
                margin: 0;
                }
    </style>
  </head>
  <body>
    <img width='640' height='480' alt='loading image...' id='camImage'
         src='http://www.kos.gr/images/webcam/current.jpg'>

    <script language="JavaScript">
          var imageUrl= document.getElementById('camImage').src;
          var random = new Date().getTime();
          var delay = 1;										
          var counter = 0;
          var buffer = new Image;
    
          function DisplayImage() {
            document.getElementById('camImage').src = buffer.src;
            LoadNextImage();
          }
    
          function LoadBuffer () {
            var trickname = imageUrl;
            ++counter;
            trickname += "?counter=" + (random + counter);
            buffer.src = trickname;
            buffer.onload = DisplayImage;
          }
    
          function LoadNextImage() {
            setTimeout("LoadBuffer()", 1000*delay);
          }
    
          LoadNextImage();    
        </script>

  </body>
</html>
